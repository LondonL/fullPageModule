!function(a){a.fn.fullPage=function(b){function e(){setTimeout(function(){a.isFunction(d.option._endScroll)&&d.option._endScroll(d.find(".active").index()),setTimeout(function(){d._moving=!1},d.option._scrollDely)},d.option._scrollingSpeed)}function f(a,b){d._layerObj.toggleClass("fp-easing",b),d._layerObj.css(g(a)),e()}function g(a){return{"-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,transform:a}}function h(){var a=document.createElement("p"),c={webkitTransition:"-webkit-transition",OTransition:"-o-transition",msTransition:"-ms-transition",MozTransition:"-moz-transition",transition:"transition"};for(var d in c)if(d in a.style)return!0;return!1}var c=a.extend({_height:a(window).height(),_windowEvent:!0,_mouseEvent:!0,_scrollingSpeed:700,_scrollDely:400,_useCss3:!0,_controller:!0,_controllerId:"fullPageController",_beforeScroll:null,_endScroll:null},b),d=this;return d.setParameter=function(){d._moving=!1,d.option=c,d._layerObj=d.find(".fullPageLayer"),d._pagerObj=d.find(".fullPagePager"),d._childLength=d._pagerObj.length,d.option._useCss3=h()},d._setHeight=function(){d._height=a(window).height(),d._layerObj.height(d._height*d._childLength),d._pagerObj.height(d._height),d.height(d._height)},d._init=function(){d.setParameter(),d._setHeight(),d.option._windowEvent&&d._bindWindowEvent(),d.option._mouseEvent&&d._bindMouseEvent(),d.option._controller&&d._controller()},d._prev=function(b){a.isFunction(d.option._beforeScroll)&&d.option._beforeScroll(b),d._scroll(b,"up")},d._next=function(b){a.isFunction(d.option._beforeScroll)&&d.option._beforeScroll(b),d._scroll(b,"down")},d._scroll=function(a,b){if("up"==b){d._pagerObj.eq(a-1).addClass("active").siblings().removeClass("active");var c=-(a-1)*d._height+"px";d.option._controller&&d._changeController(a-1)}else if("down"==b){d._pagerObj.eq(a+1).addClass("active").siblings().removeClass("active");var c=-(a+1)*d._height+"px";d.option._controller&&d._changeController(a+1)}else{d._pagerObj.eq(a).addClass("active").siblings().removeClass("active");var c=-a*d._height+"px";d.option._controller&&d._changeController(a)}if(d.option._useCss3){var g="translate(0px, "+c+")";f(g,!0)}else d._layerObj.animate({top:c},d.option._scrollingSpeed,function(){e()})},d._bindWindowEvent=function(){a(window).on("resize",function(){if(d._setHeight(),!d._moving){var a=-d._layerObj.find(".active").index()*d._height+"px";if(d.option._useCss3){var b="translate(0px, "+a+")";f(b,!0)}else d._layerObj.animate({top:a},d.option._scrollingSpeed,function(){e()})}})},d._bindMouseEvent=function(){d.mousewheel(function(a,b){var c=d.find(".active"),e=c.index();if(b>0&&e>0&&!d._moving)d._moving=!0,d._prev(e);else{if(!(0>b&&e<d._childLength-1)||d._moving)return;d._moving=!0,d._next(e)}})},d._controller=function(){for(var b="",c=1;c<=d._childLength;c++)b+=1==c?"<a class='select'>"+c+"</a>":"<a>"+c+"</a>";var e=a("<div id="+d.option._controllerId+"></div>");e.append(b),a("body").append(e),a("#"+d.option._controllerId+" a").on("click",function(){d._moving||(d._moving=!0,d._scroll(a(this).index()))})},d._changeController=function(b){a("#"+d.option._controllerId).find("a:eq("+b+")").addClass("select").siblings().removeClass("select")},d._init(),d}}(jQuery);